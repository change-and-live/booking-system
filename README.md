# Система бронирования переговорных комнат
--------------
## Описание проекта

Простая система бронирования переговорных комнат, реализованная с использованием Python + Django + DRF + Celery. Позволяет пользователям просматривать доступные комнаты, создавать и отменять бронирования. Уведомления реализованы синхронно (в текущей версии, асинхронно получала ошибку [WinError 10061]).

**Основные функции** 
- Просмотр списка комнат с фильтрацией по вместимости и удобствам
- Проверка доступности комнат в заданный период времени
- Создание бронирований с автоматической проверкой на пересечения
- Отмена бронирований
- Базовые уведомления (синхронная реализация)

**Технологический стек**
- Backend: Python 3.10
- Framework: Django 4.2
- API: Django REST Framework
- База данных: SQLite (для разработки)

**Структура проекта**
```bash
booking-system/
├── db,sqlite3                 # База данных
├── manage.py                  # Django CLI
├── README.md                  # Документация
├── requirements.txt           # Зависимости
│
├── booking_app/               # Основное приложение
│   ├── migrations/            # Миграции БД
│   ├── __init__.py
│   ├── admin.py               # Админ-панель
│   ├── apps.py                # Конфиг приложения
│   ├── models.py              # Модели: Room, Booking, Facility
│   ├── serializers.py         # Сериализаторы API
│   ├── tasks.py               # Celery задачи
│   ├── urls.py                # Маршруты приложения
│   ├── utils.py               # Вспомогательные функции
│   └── views.py               # API представления
│
├── config/                    # Конфигурация проекта
│   ├── __init__.py
│   ├── asgi.py                # ASGI конфиг
│   ├── celery.py              # Celery конфиг
│   ├── settings.py            # Настройки Django
│   ├── urls.py                # Корневые маршруты
│   └── wsgi.py                # WSGI конфиг
│
└── tests/                     # Тесты
    ├── __init__.py
    ├── test_models.py         # Тесты моделей
    ├── test_tasks.py          # Тесты Celery
    └── test_views.py          # Тесты API
```
--------------
## Установка и запуск

**Шаги установки**
- Клонируйте репозиторй (распакуйте проект)
- Создайте и активируйте виртуальное окружение
    python -m venv venv
    venv\Scripts\activate     
- Установите зависимости:
    pip install -r requirements.txt
- Примените миграции:
    python manage.py migrate
- Создайте суперпользователя (по желанию):
    python manage.py createsuperuser

* Дополнительно:

Уже созданные пользователи:


*name - password*


|   admin - 1234    


|   ivan - password123


|   anna - password456


--------------
**Запуск приложения**
- Запустите Django сервер:
    python manage.py runserver
    API будет доступно по адресу: http://localhost:8000/api/
- В другом терминале запустите Celery worker
    celery -A config worker --loglevel=info --pool=solo
**Перед использованием API**
Лучше пройти авторизацию. Так как для того же бронирования нудно быть авторизованным. 
GET /api-auth/login/

**Использование API**
* Основные эндпоинты
- GET /api/rooms/ - Список всех комнат
- GET /api/free-rooms/ - Список доступных комнат за период
Параметры: start_time, end_time (формат ISO 8601)
- POST /api/bookings/ - Создание нового бронирования
- POST /api/bookings/id/cancel/ - Отмена бронирования

**Примеры запросов**
- Получение списка доступных комнат:
GET /api/free-rooms/?start_time=2025-06-20T10:00:00&end_time=2025-06-20T12:00:00
- Создание бронирования:
http
POST /api/bookings/
{
    "room": 1,
    "start_time": "2025-12-01T09:00:00Z",
    "end_time": "2025-12-01T10:00:00Z"
}
- Отмена бронирования:
DELETE /api/bookings/1/cancel/
- Фильтрация комнат по вместимости и удобствам
GET /api/rooms/?capacity=10&facilities=1

**Реализованные функции**
* Основные
- Модели Room и Booking с необходимыми полями
- Валидация пересечений бронирований
- API для управления комнатами и бронированиями
- Фильтрация комнат по вместимости и удобствам 
- Базовые синхронные уведомления (вывод в консоль)

* Дополнительные
- Фильтрация доступных комнат по параметрам
- Кастомные разрешения для операций с бронированиями
- Автоматическое назначение пользователя при создании брони

* Что не реализовано
- Асинхронные уведомления через Celery (реализованы синхронно)
Асинхронно получала ошибку [Ошибка отправки уведомления: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение]. Как бы не тыкалась - не получалось.
- Продвинутая система аутентификации
- Полноценная системы ролей
- Подробная документация
- Фронт
